---
interface Props {
  lang?: 'sv' | 'en';
}

const { lang = 'sv' } = Astro.props;
const isEn = lang === 'en';

const content = isEn
  ? {
      title: 'Featured projects',
      intro:
        'Three projects showing how I build systems that increase growth capacity and reduce operational friction.',
      cards: [
        {
          title: 'Tungportalen',
          text: 'Platform for heavy operational workflows with clear process control.',
          problem: 'Business-critical processes were fragmented and difficult to quality-assure.',
          solution: 'Unified portal with robust architecture, clear role boundaries, and a reliable release loop.',
          impact: 'Faster handling and better operational control.',
          href: '/en/projects/tungportalen',
        },
        {
          title: 'Fairless Security',
          text: 'Membership system with onboarding, permissions, and clear access logic.',
          problem: 'The member flow was unclear and required excessive manual handling.',
          solution: 'Structured member journey with automated assignments and status handling.',
          impact: 'More predictable operations and a stronger member experience.',
          href: '/en/projects/fairless-security',
        },
        {
          title: 'n8n Lead Automation',
          text: 'Automated pipelines for lead qualification and follow-up.',
          problem: 'Leads dropped between forms, inboxes, CRM, and internal handoff.',
          solution: 'n8n workflows with validation, scoring, and notifications at each key step.',
          impact: 'More qualified conversations and shorter time to first contact.',
          href: '/en/projects/n8n-lead-automation',
        },
      ],
      readMore: 'Read more',
      solutionLabel: 'Solution',
    }
  : {
      title: 'Utvalda projekt',
      intro:
        'Tre projekt som visar hur jag bygger system som driver tillvaxt och minskar operativ friktion.',
      cards: [
        {
          title: 'Tungportalen',
          text: 'Plattform for tunga verksamhetsfloden med tydligt operativt fokus.',
          problem: 'Kritiska processer var utspridda och svara att kvalitetssakra.',
          solution: 'Samlad portal med stabil arkitektur, tydliga roller och effektiv release-rutin.',
          impact: 'Snabbare handlaggning och battre kontroll i vardagen.',
          href: '/projekt/tungportalen',
        },
        {
          title: 'Fairless Security',
          text: 'Medlemssystem med onboarding, behorighet och tydlig accesslogik.',
          problem: 'Medlemsflodet var otydligt och kravde mycket manuellt arbete.',
          solution: 'Struktur for medlemsresa med automatiska tilldelningar och statushantering.',
          impact: 'Mer forutsagbar drift och battre upplevelse for medlemmar.',
          href: '/projekt/fairless-security',
        },
        {
          title: 'n8n Lead Automation',
          text: 'Automatiserade pipelines for leadkvalificering och uppfoljning.',
          problem: 'Leads tappades mellan formular, inbox, CRM och intern handoff.',
          solution: 'n8n-workflows med validering, scoring och notifieringar i ratt steg.',
          impact: 'Fler kvalificerade dialoger och kortare tid till forsta kontakt.',
          href: '/projekt/n8n-lead-automation',
        },
      ],
      readMore: 'Las mer',
      solutionLabel: 'Losning',
    };
---

<section id="work" class="band band--surface" aria-labelledby="work-title">
  <h2 id="work-title" class="text-2xl font-semibold tracking-tight text-white md:text-3xl">{content.title}</h2>
  <p class="mt-3 max-w-2xl text-neutral-300">{content.intro}</p>

  <div class="mt-8 grid gap-4 lg:grid-cols-3">
    {content.cards.map((card) => (
      <article class="ui-card ui-card--interactive p-6" tabindex="0">
        <h3 class="text-xl font-semibold text-white">{card.title}</h3>
        <p class="mt-2 text-sm text-neutral-300">{card.text}</p>
        <ul class="mt-4 space-y-2 text-sm text-neutral-200">
          <li><span class="font-semibold text-white">Problem:</span> {card.problem}</li>
          <li><span class="font-semibold text-white">{content.solutionLabel}:</span> {card.solution}</li>
        </ul>
        <p class="mt-4 text-sm text-neutral-300"><span class="font-semibold text-white">Impact:</span> {card.impact}</p>
        <a href={card.href} class="mt-5 inline-flex text-sm font-semibold text-cyan-300 hover:text-cyan-200">{content.readMore}</a>
      </article>
    ))}
  </div>
</section>


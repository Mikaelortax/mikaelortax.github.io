---
interface Props {
  lang?: 'sv' | 'en';
}

const { lang = 'sv' } = Astro.props;
const isEn = lang === 'en';

const content = isEn
  ? {
      kicker: 'Portfolio Highlights',
      title: 'Projects I am proud of',
      intro:
        'Selected projects that represent how I think, build, and improve over time in real production environments.',
      cards: [
        {
          id: '01',
          title: 'Hotel Hötorget',
          text: 'Development of hotelhotorget.se with focus on clarity, performance, and SEO readiness.',
          role: 'Role: Web developer and SEO engineer',
          built: 'Built: Site structure, implementation, and technical optimization for long-term maintainability.',
          result: 'Result: Stronger technical foundation and a faster, clearer website experience.',
          href: '/en/projects/hotell-hotorget',
        },
        {
          id: '02',
          title: 'Hotel at Old Town',
          text: 'Development of hotelatoldtown.se with focus on speed, structure, and SEO-ready implementation.',
          role: 'Role: Web developer and SEO engineer',
          built: 'Built: Site structure, technical implementation, and optimization for maintainability.',
          result: 'Result: Better speed, clearer navigation, and stronger search visibility foundation.',
          href: '/en/projects/hotel-at-old-town',
        },
        {
          id: '03',
          title: 'Ringheims',
          text: 'Development of ringheims.se with modern structure and conversion-oriented user flow.',
          role: 'Role: Web developer and growth engineer',
          built: 'Built: Information architecture, frontend implementation, and technical optimization.',
          result: 'Result: Better usability and stronger conditions for SEO and conversion.',
          href: '/en/projects/ringheims',
        },
        {
          id: '04',
          title: 'Fairless Security',
          text: 'Membership system with onboarding, permissions, and predictable lifecycle states.',
          role: 'Role: Fullstack developer and system architect',
          built: 'Built: Both website and membership platform with automation for access and lifecycle handling.',
          result: 'Result: Less manual overhead and a smoother experience for members and admins.',
          href: '/en/projects/fairless-security',
        },
        {
          id: '05',
          title: 'n8n Lead Automation',
          text: 'Automated lead pipelines from form input to first qualified conversation.',
          role: 'Role: Automation architect',
          built: 'Built: Validation, scoring, and notifications across form, inbox, CRM, and handoff.',
          result: 'Result: Better lead quality and shorter time to first contact.',
          href: '/en/projects/n8n-lead-automation',
        },
        {
          id: '06',
          title: 'n8n Instagram/TikTok Video Automation',
          text: 'Automated video publishing workflow from content input to scheduled social delivery.',
          role: 'Role: Automation builder',
          built: 'Built: Validation, metadata handling, scheduling, and notification logic in n8n.',
          result: 'Result: Less manual work and more consistent publishing cadence.',
          href: '/en/projects/n8n-instagram-tiktok-video-automation',
        },
        {
          id: '07',
          title: 'n8n Instagram Story Automation',
          text: 'Automated Story workflow with structured timing and repeatable content flow.',
          role: 'Role: Automation builder',
          built: 'Built: Story pipeline with trigger logic, scheduling, and operational control.',
          result: 'Result: Faster Story production with clearer execution.',
          href: '/en/projects/n8n-instagram-story-automation',
        },
        {
          id: '08',
          title: 'n8n CRM Process Automation',
          text: 'Automation of CRM handoffs and status logic where manual steps were removed.',
          role: 'Role: Automation architect',
          built: 'Built: Workflow orchestration across CRM events, validation, and follow-up actions.',
          result: 'Result: Lower manual overhead and higher data quality in CRM operations.',
          href: '/en/projects/n8n-crm-process-automation',
        },
        {
          id: '09',
          title: 'SwedRentals',
          text: 'Website development and SEO work for stronger organic visibility and technical quality.',
          role: 'Role: Web developer and SEO engineer',
          built: 'Built: Site structure, implementation, and SEO improvements for long-term growth.',
          result: 'Result: Better technical foundation, clearer user flow, and stronger search readiness.',
          href: '/en/projects/swedrentals',
        },
        {
          id: '10',
          title: 'Wise Solutions',
          text: 'Website development with SEO focus on structure, clarity, and conversion support.',
          role: 'Role: Web developer and SEO engineer',
          built: 'Built: Technical setup, information flow, and SEO baseline improvements.',
          result: 'Result: Better usability, cleaner architecture, and stronger growth conditions.',
          href: '/en/projects/wise-solutions',
        },
      ],
      readMore: 'View case',
    }
  : {
      kicker: 'Portfolio i urval',
      title: 'Projekt jag är stolt över',
      intro:
        'Utvalda projekt som speglar min profil: tekniskt djup, tydlig struktur och leverans som fungerar i vardagen.',
      cards: [
        {
          id: '01',
          title: 'Hotell Hötorget',
          text: 'Utveckling av hotelhotorget.se med fokus på tydlig struktur, prestanda och SEO.',
          role: 'Roll: Webbutvecklare och SEO-engineer',
          built: 'Leverans: Webbplatsutveckling, teknisk struktur och optimering för långsiktig förvaltning.',
          result: 'Effekt: Snabbare sajt, tydligare användarflöde och bättre teknisk grund för synlighet.',
          href: '/projekt/hotell-hotorget',
        },
        {
          id: '02',
          title: 'Hotel at Old Town',
          text: 'Utveckling av hotelatoldtown.se med fokus på hastighet, struktur och SEO-kvalitet.',
          role: 'Roll: Webbutvecklare och SEO-engineer',
          built: 'Leverans: Webbplatsutveckling, teknisk implementation och optimering för långsiktig förvaltning.',
          result: 'Effekt: Bättre prestanda, tydligare navigation och starkare grund för organisk synlighet.',
          href: '/projekt/hotel-at-old-town',
        },
        {
          id: '03',
          title: 'Ringheims',
          text: 'Utveckling av ringheims.se med modern struktur och konverteringsfokuserat användarflöde.',
          role: 'Roll: Webbutvecklare och growth engineer',
          built: 'Leverans: Informationsarkitektur, frontend-implementation och teknisk optimering.',
          result: 'Effekt: Bättre användbarhet och starkare förutsättningar för SEO och konvertering.',
          href: '/projekt/ringheims',
        },
        {
          id: '04',
          title: 'Fairless Security',
          text: 'Medlemssystem med onboarding, behörigheter och förutsägbara livscykelsteg.',
          role: 'Roll: Fullstackutvecklare och systemarkitekt',
          built: 'Leverans: Både webbplats och medlemssystem med onboarding, accesslogik och automation.',
          result: 'Effekt: Mindre handpåläggning och jämnare upplevelse för både medlemmar och administratörer.',
          href: '/projekt/fairless-security',
        },
        {
          id: '05',
          title: 'n8n Lead Automation',
          text: 'Automatiserade leadflöden från formulär till första kvalificerade dialog.',
          role: 'Roll: Automationsarkitekt',
          built: 'Leverans: Validering, scoring och notifieringar mellan formulär, inbox och CRM.',
          result: 'Effekt: Högre leadkvalitet och kortare tid till första kvalificerade kontakt.',
          href: '/projekt/n8n-lead-automation',
        },
        {
          id: '06',
          title: 'n8n Instagram/TikTok Video Automation',
          text: 'Automatiserat videoflöde från innehåll till schemalagd publicering i sociala kanaler.',
          role: 'Roll: Automation builder',
          built: 'Leverans: Validering, metadata, schemaläggning och notifieringslogik i n8n.',
          result: 'Effekt: Mindre manuellt arbete och jämnare publiceringstakt.',
          href: '/projekt/n8n-instagram-tiktok-video-automation',
        },
        {
          id: '07',
          title: 'n8n Instagram Story Automation',
          text: 'Automatiserat Story-flöde med tydlig timing och repeterbar struktur.',
          role: 'Roll: Automation builder',
          built: 'Leverans: Story-pipeline med triggerlogik, schemaläggning och operativ kontroll.',
          result: 'Effekt: Snabbare Story-produktion och tydligare genomförande.',
          href: '/projekt/n8n-instagram-story-automation',
        },
        {
          id: '08',
          title: 'n8n CRM Process Automation',
          text: 'Automation av CRM-flöden där manuella moment ersattes av stabil arbetslogik.',
          role: 'Roll: Automationsarkitekt',
          built: 'Leverans: Orkestrering av CRM-event, validering och uppföljande actions.',
          result: 'Effekt: Mindre administration, snabbare handoff och högre datakvalitet.',
          href: '/projekt/n8n-crm-process-automation',
        },
        {
          id: '09',
          title: 'SwedRentals',
          text: 'Webbplatsutveckling och SEO-arbete för starkare organisk synlighet och teknisk kvalitet.',
          role: 'Roll: Webbutvecklare och SEO-engineer',
          built: 'Leverans: Webbstruktur, implementation och SEO-förbättringar för långsiktig tillväxt.',
          result: 'Effekt: Bättre teknisk grund, tydligare användarflöde och bättre sökförutsättningar.',
          href: '/projekt/swedrentals',
        },
        {
          id: '10',
          title: 'Wise Solutions',
          text: 'Webbplatsutveckling med SEO-fokus på struktur, tydlighet och konverteringsstöd.',
          role: 'Roll: Webbutvecklare och SEO-engineer',
          built: 'Leverans: Teknisk implementation, informationsflöde och förbättrad SEO-bas.',
          result: 'Effekt: Bättre användbarhet, renare arkitektur och starkare tillväxtförutsättningar.',
          href: '/projekt/wise-solutions',
        },
      ],
      readMore: 'Öppna case',
    };

const visibleCards = content.cards.slice(0, 3);
---

<section id="work" class="band band--surface" aria-labelledby="work-title">
  <header class="section-head reveal-block">
    <p class="section-kicker">{content.kicker}</p>
    <h2 id="work-title" class="section-title">{content.title}</h2>
    <p class="section-lead">{content.intro}</p>
  </header>

  <div class="mt-10 grid gap-6 lg:grid-cols-3">
    {visibleCards.map((card, index) => (
      <article
        class="ui-card ui-card--interactive portfolio-card reveal-card p-6 text-left"
        style={`animation-delay: ${index * 90}ms;`}
        tabindex="0"
      >
        <div class="card-id mb-4 inline-flex rounded-full border border-cyan-300/25 bg-cyan-300/10 px-2.5 py-1 text-[11px] font-semibold tracking-[0.16em] text-cyan-200">
          {card.id}
        </div>

        <h3 class="text-2xl font-semibold leading-tight text-white">{card.title}</h3>
        <p class="mt-3 text-sm text-neutral-300">{card.text}</p>

        <ul class="mt-5 space-y-3 text-sm text-neutral-200">
          <li class="card-meta">{card.role}</li>
          <li class="card-meta">{card.built}</li>
          <li class="card-meta">{card.result}</li>
        </ul>

        <a
          href={card.href}
          class="mt-6 inline-flex items-center text-sm font-semibold text-cyan-300 transition hover:text-cyan-200"
        >
          {content.readMore}
          <span aria-hidden="true" class="ml-1">-&gt;</span>
        </a>
      </article>
    ))}
  </div>
</section>

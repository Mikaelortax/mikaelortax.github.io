---
import BaseLayout from '../../../layouts/BaseLayout.astro';

const contactEmail = 'joha.micke@gmail.com';
const linkedInHref = 'https://www.linkedin.com/in/mikael-johansson-5084515b/';
const primaryMailHref = `mailto:${contactEmail}?subject=${encodeURIComponent('Portfolio inquiry')}&body=${encodeURIComponent('Hi Mikael,%0D%0A%0D%0ABrief context:%0D%0A')}`;
const projectMailHref = `mailto:${contactEmail}?subject=${encodeURIComponent('Project inquiry')}`;
const roleMailHref = `mailto:${contactEmail}?subject=${encodeURIComponent('IT role or collaboration')}`;
const transportRoleMailHref = `mailto:${contactEmail}?subject=${encodeURIComponent('Professional driver role')}`;
---

<BaseLayout
  title="Contact | Mikael Johansson"
  description="Contact details and clear next steps for IT roles, professional driving roles, projects, or collaboration."
  lang="en"
>
  <section class="band band--surface" aria-labelledby="contact-title">
    <div class="section-head reveal-block">
      <p class="section-kicker">Contact</p>
      <h1 id="contact-title" class="section-title">Reach out with a clear next step</h1>
      <p class="section-lead">
        Share your setup, goal, and timeline. I will reply with a practical recommendation for IT delivery or professional driving work.
      </p>
    </div>

    <div class="mt-10 grid max-w-6xl gap-5 md:grid-cols-5">
      <article class="ui-card ui-card--interactive reveal-card p-6 text-left md:col-span-3">
        <p class="text-xs font-semibold uppercase tracking-[0.16em] text-cyan-300">Direct contact</p>
        <h2 class="mt-3 text-2xl font-semibold tracking-tight text-white">joha.micke@gmail.com</h2>
        <p class="mt-3 text-sm text-neutral-300">Email is the fastest path. Typical response time is 1-2 business days.</p>

        <div class="mt-6 flex flex-wrap gap-3">
          <a href={primaryMailHref} class="btn-primary inline-flex items-center gap-2 px-5 py-3 text-sm">
            Send email
            <span aria-hidden="true">â†—</span>
          </a>
          <button
            type="button"
            class="btn-secondary inline-flex items-center gap-2 px-5 py-3 text-sm"
            data-copy-email
            data-email={contactEmail}
          >
            Copy address
          </button>
        </div>

        <p data-copy-status class="mt-3 text-xs text-neutral-400" aria-live="polite"></p>
      </article>

      <aside class="ui-card reveal-card p-6 text-left md:col-span-2">
        <p class="text-xs font-semibold uppercase tracking-[0.16em] text-cyan-300">Quick routes</p>
        <div class="mt-4 grid gap-3">
          <a href={projectMailHref} class="rounded-xl border border-white/15 bg-white/5 px-4 py-3 text-sm text-neutral-100 transition hover:border-white/30 hover:bg-white/10">
            Project inquiry
          </a>
          <a href={roleMailHref} class="rounded-xl border border-white/15 bg-white/5 px-4 py-3 text-sm text-neutral-100 transition hover:border-white/30 hover:bg-white/10">
            IT role or collaboration
          </a>
          <a href={transportRoleMailHref} class="rounded-xl border border-white/15 bg-white/5 px-4 py-3 text-sm text-neutral-100 transition hover:border-white/30 hover:bg-white/10">
            Professional driver role
          </a>
          <a href="/en/cv" class="rounded-xl border border-white/15 bg-white/5 px-4 py-3 text-sm text-neutral-100 transition hover:border-white/30 hover:bg-white/10">
            View CV
          </a>
          <a href={linkedInHref} class="rounded-xl border border-white/15 bg-white/5 px-4 py-3 text-sm text-neutral-100 transition hover:border-white/30 hover:bg-white/10">
            LinkedIn profile
          </a>
        </div>
      </aside>
    </div>

    <div class="mt-8 grid max-w-6xl gap-4 md:grid-cols-3">
      <article class="ui-card reveal-card p-5 text-left">
        <p class="text-xs font-semibold uppercase tracking-[0.16em] text-cyan-300">01</p>
        <h3 class="mt-2 text-base font-semibold text-white">Delivery-focused projects</h3>
        <p class="mt-2 text-sm text-neutral-300">Web engineering, automation, and SEO/Growth work with measurable outcomes.</p>
      </article>
      <article class="ui-card reveal-card p-5 text-left">
        <p class="text-xs font-semibold uppercase tracking-[0.16em] text-cyan-300">02</p>
        <h3 class="mt-2 text-base font-semibold text-white">Ongoing technical ownership</h3>
        <p class="mt-2 text-sm text-neutral-300">Priority-driven implementation in short cycles with clear accountability.</p>
      </article>
      <article class="ui-card reveal-card p-5 text-left">
        <p class="text-xs font-semibold uppercase tracking-[0.16em] text-cyan-300">03</p>
        <h3 class="mt-2 text-base font-semibold text-white">Professional driving and transport</h3>
        <p class="mt-2 text-sm text-neutral-300">Available for professional driver roles with focus on safety, responsibility, and structure.</p>
      </article>
    </div>
  </section>
</BaseLayout>

<script>
  const copyButton = document.querySelector('[data-copy-email]');
  const copyStatus = document.querySelector('[data-copy-status]');

  if (copyButton instanceof HTMLButtonElement && copyStatus instanceof HTMLElement) {
    copyButton.addEventListener('click', async () => {
      const email = copyButton.dataset.email;
      if (!email) return;

      try {
        await navigator.clipboard.writeText(email);
        copyStatus.textContent = 'Email address copied.';
        copyStatus.className = 'mt-3 text-xs text-emerald-300';
      } catch {
        copyStatus.textContent = 'Could not copy automatically. Please select and copy manually.';
        copyStatus.className = 'mt-3 text-xs text-amber-300';
      }
    });
  }
</script>
